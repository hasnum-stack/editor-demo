* {
  box-sizing: border-box;
}
body {
  font-family: Inter, Arial, sans-serif;
  margin: 12px;
}
.app {
  max-width: 1100px;
  margin: 0 auto;
}
.editor {
  display: grid;
  grid-template-columns: 220px 1fr 300px;
  gap: 12px;
  align-items: start;
}
.panel {
  background: #fff;
  border: 1px solid #e6e6e6;
  padding: 8px;
  border-radius: 6px;
  min-height: 280px;
}
.palette-item {
  padding: 8px;
  border: 1px dashed #bbb;
  margin: 6px 0;
  border-radius: 4px;
  cursor: grab;
  background: #fafafa;
}
.canvas {
  min-height: 400px;
  padding: 12px;
  border: 1px dashed #ccc;
  background: #f9fafb;
}

/* visual drop zone between nodes */
.drop-zone {
  width: 100%;
  height: 12px;
  border-radius: 4px;
}
.drop-zone.active {
  position: relative;
}
.drop-zone.active::after {
  content: '';
  position: absolute;
  left: 6px;
  right: 6px;
  top: 50%;
  height: 2px;
  background: #2563eb;
  border-radius: 2px;
  transform: translateY(-50%);
}
.container-inner{border:1px dashed #e2e8f0;padding:8px;margin-top:8px;border-radius:6px;background:#ffffff}
/* grid inside container: 24 implicit columns to map span values */
.container-grid{display:grid;grid-template-columns:repeat(24,1fr);grid-auto-rows:auto;grid-auto-flow:row dense;gap:8px}
.grid-item{min-width:0}
.grid-item-full{grid-column:span 24}
.node {
  padding: 8px;
  margin: 0;
  border: 1px solid #dcdcdc;
  border-radius: 6px;
  background: #fff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  box-sizing: border-box;
}

.node-wrapper{position:relative}
.drop-edge{position:absolute;pointer-events:auto}
.drop-edge.top{left:6px;right:6px;top:-8px;height:16px}
.drop-edge.bottom{left:6px;right:6px;bottom:-8px;height:16px}
.drop-edge.left{top:6px;bottom:6px;left:-8px;width:16px}
.drop-edge.right{top:6px;bottom:6px;right:-8px;width:16px}
.drop-edge.active{background:rgba(37,99,235,0.12);border-radius:4px}
.drop-edge.active::after{content:'';position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:2px;height:100%;background:#2563eb}
.node .label {
  flex: 1;
}
.node .handle {
  cursor: grab;
  padding: 4px 8px;
}
.node.dragging {
  opacity: 0.5;
}
.properties input,
.properties textarea {
  width: 100%;
  padding: 6px;
  margin: 6px 0;
  border-radius: 4px;
  border: 1px solid #ddd;
}
.small {
  font-size: 12px;
  color: #666;
}

/* Drag overlay: fixed width preview that follows the cursor. */
.node.node-overlay {
  width: 280px; /* fixed width */
  max-width: 280px;
  box-shadow: 0 6px 18px rgba(16,24,40,0.12);
  pointer-events: none; /* don't block droppables under the cursor */
  opacity: 0.98;
}

/* Optional small variant for very compact previews */
.node.node-overlay .small { display: inline-block; margin-left: 8px; }
